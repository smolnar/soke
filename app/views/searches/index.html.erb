<section id="search-form" class="<%= @query ? 'search-with-query' : 'search-index' %>">
  <%= form_tag search_path, method: :get, class: 'search', autocomplete: :off do %>
    <%= text_field_tag :q, @query, placeholder: ' Just start typing ...', autofocus: true %>
  <% end %>
</section>

<% if @results %>
  <section id="search-results">
    <ul class="list-unstyled">
      <% @results.each do |result| %>
        <li class="result">
          <a href="<%= result.url %>" ><%= result.title %></a>

          <p>
            <%= result.description %>
          </p>
        </li>
      <% end %>
    </ul>

    <ul class="pager">
      <li class="previous <%= @page == 1 ? :disabled : nil %>">
        <%= link_to "&larr; Previous".html_safe, search_path(q: @query, page: @page - 1) %>
      </li>

      <% unless @page == 1 %>
        <li>
          <%= icon_link_to :home, 'Home', search_path(q: @query) %>
        </li>
      <% end %>

      <li class="next">
        <%= link_to "Next &rarr;".html_safe, search_path(q: @query, page: @page + 1), class: :next %>
      </li>
    </ul>
  </section>
<% end %>
